# DCTHashZ

Данная библиотека реализует функционал сравнения изображений, и предназначена для приложений написанных на языке C#.
Причина написания своей реализации проста - я просто не нашёл аналогов, которые давали бы разработчику возможность делать
с библиотекой что угодно ([pHash](https://github.com/pgrho/phash) распространяется под GPL, и это означает что его нельзя
использовать в коммерческих проектах, не публикуя в открытую их исходный код).
Я же, писал свой небольшой проект, который в теории мог дорасти до коммерческого, и не хотел этих проблем с pHash. 
Не найдя других альтернатив, я создал свою реализацию, которая будет полностью открытой - делайте с ней что хотите 
(в рамках лицензии Apache 2.0).

Сравнение реализовано через генерацию хеша, путём дискретного косинусного преобразования (Discrete Cosine Transform Based Hash), оно же - pHash.
Материалы брались в основном из [этой](https://habr.com/ru/post/237307/) и ещё нескольких статей на хабре. Плюс - Wiki, 
и несколько научных работ по теме (на которые я к сожалению не сохранил ссылок). Дополнительно, я сверял получаемые результаты с 
[demo pHash](https://www.phash.org/demo/), стараясь получить близкие к эталонным.

Принцип работы данной библиотеки довольно прост. Есть фасадный класс "DCTHash", в который вынесены все методы общения с этой библиотекой.
Для создания запроса на генерацию хешей, необходмо вызвать метод "AddTasks", передав в него список путей к файлам изображений.
Для получения результатов необходимо подписаться на ивент "CompleteCeneration" - он вернёт список результатов, в котором будет имя файла, 
путь к нему, хеш этого изображения и статус генерации хеша.
Для отслеживания результатов генерации хеша, можно подписаться на событие "UpdateCreationStatus" - оно будет возвращать комплексную информацию
о процессе генерации. В частности - количество задач ожидающих генерации, количество задач в работе, количество завершённых задач и общее 
количество задач в списке.

Более подробно посмотреть на это можно в демо-проекте("DCTHashZDemo"), скачав этот репозиторий и открыв решение. Там есть 2 варианта 
работы - простая генерация хешей, и сравнение файлов. Собранные библиотека и демо-проект можно найти в папке 
[Compilation](https://github.com/Zaharatot/DCTHashZ/tree/main/Compilation).
